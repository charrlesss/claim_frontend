"use strict";(self.webpackChunkupward_cliam=self.webpackChunkupward_cliam||[]).push([[177,389,979],{9783:(e,l,i)=>{i.r(l),i.d(l,{default:()=>S});var n=i(9040),s=i(7392),t=i(5721),o=i(3561),r=i(2050),a=i(8968),d=i(7566),c=i(1906),u=i(5043),f=i(7332),h=i(3464),x=i(751),p=i(3515),b=i(141),m=i(1675),y=i(9606),j=i(147),g=i(3158),A=i(2153),w=i(579);const S=()=>{const e=(0,m.Zp)(),[l,i]=(0,u.useState)([{id:0,label:"Insurance Policy",files:null},{id:1,label:"Official Receipt of Premium Payment",files:null},{id:2,label:"Policy endorsement (if any)",files:null},{id:3,label:"Deed of Sale",files:null},{id:4,label:"OR CR",files:null},{id:5,label:"Police Report / Affidavit",files:null},{id:6,label:"Driver\u2019s Statement to the Police (Salaysay)",files:null},{id:7,label:"Driver\u2019s License and O.R",files:null},{id:8,label:"Stencils",files:null},{id:9,label:"Valid I.D",files:null}]),[S,v]=(0,u.useState)(null),R=(0,u.useRef)(null),C=(0,u.useRef)(null),k=async(e,l)=>{if(l.files&&l.files.length>0){const e=l.files.map(((e,l)=>(async(e,l)=>{const i=await fetch(e),n=await i.blob();return new File([n],l,{type:"image/png"})})(e.link,e.filename))),i=await Promise.all(e);l.files=i}C.current.showModal(),C.current.setSelectedDocument(l)};return(0,u.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("Mkr44Rt2iuy13R");if(e){const l=JSON.parse(decodeURIComponent(e)),n=JSON.parse(l.basicDocuments);n.length>0&&i(n),v(l)}}),[]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(A.A,{ref:C,handleOnSave:(e,l)=>{C.current.closeDelay(l)},handleOnClose:(e,n)=>{const s=l.map((e=>(e.id===n.id&&(e={...e,...n}),e)));i(s),C.current.resetUpload()}}),(0,w.jsx)(g.ModalDocument,{ref:R,handleOnSave:(e,l)=>{i((e=>[...e,{id:e.length,label:l,files:null,others:!0}])),R.current.clsoeModal()},handleOnClose:(e,l)=>{}}),(0,w.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},children:(0,w.jsxs)("div",{style:{width:"40%",border:"1px solid #ebeef2",height:"100vh",position:"relative",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[(0,w.jsxs)("div",{style:{height:"40px",borderBottom:"1px solid #ebeef2",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",background:"#ffc107"},children:[(0,w.jsx)(n.A,{title:"Back to Dashboard",children:(0,w.jsx)(s.A,{sx:{position:"absolute",left:5,top:"50%",transform:"translateY(-50%)"},onClick:()=>{const l=encodeURIComponent(JSON.stringify(S));e(`/${y.DEPARTMENT}/dashboard?Mkr44Rt2iuy13R=${l}`)},children:(0,w.jsx)(f.A,{})})}),(0,w.jsxs)("span",{children:["Claim ID: ",null!==S&&void 0!==S&&S.claimId?JSON.parse(null===S||void 0===S?void 0:S.claimId):""]})]}),(0,w.jsx)("div",{style:{flex:1,height:"100%",position:"relative",width:"100%",overflowY:"auto",overflowX:"hidden"},children:(0,w.jsxs)("nav",{"aria-label":"main mailbox folders",style:{position:"absolute",left:"0",right:"0",marginBottom:"50px"},children:[(0,w.jsx)("p",{style:{fontSize:"13px",fontWeight:"bold",padding:"5px 10px"},children:"Basic Requirement (For Assured)"}),(0,w.jsx)(t.A,{children:l.map(((e,l)=>(0,w.jsxs)(o.Ay,{disablePadding:!0,sx:{backgroundColor:e.files?"#b9f6ca":"",position:"relative"},children:[(0,w.jsxs)(r.A,{sx:{cursor:"pointer",width:"auto !important",minWidth:"auto"},children:[(0,w.jsx)(n.A,{title:"Reset Upload",children:(0,w.jsx)(s.A,{disabled:null===e.files,color:"primary",onClick:()=>{(e=>{window.confirm(`Are you sure you want to reset this document? \n${e.label}`)&&i((l=>l.map((l=>l.id===e.id?{...l,files:null}:l))))})(e)},children:(0,w.jsx)(x.A,{color:"primary",sx:{fontSize:"20px"}})})}),e.others&&(0,w.jsx)(n.A,{title:"Delete Row",children:(0,w.jsx)(s.A,{color:"error",onClick:()=>{(e=>{window.confirm(`Are you sure you want to reset this document? \n${e.label}`)&&i((l=>l.filter((l=>l.id!==e.id))))})(e)},children:(0,w.jsx)(h.A,{color:"error",sx:{fontSize:"20px"}})})})]}),(0,w.jsx)(n.A,{title:"Upload Document",children:(0,w.jsxs)(a.A,{onClick:l=>k(0,e),children:[(0,w.jsx)(d.A,{primaryTypographyProps:{fontSize:"12px"},primary:`${l+1}.   ${e.label}`}),e.required&&!e.files&&(0,w.jsx)(p.A,{sx:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",fontSize:"18px",color:"error.main"}})]})})]},e.id)))})]})}),(0,w.jsx)("div",{style:{position:"absolute",bottom:"45px",right:"20px",width:"50px",height:"50px",borderRadius:"50%",cursor:"pointer",zIndex:999},onClick:()=>{R.current.showModal()},children:(0,w.jsx)(n.A,{title:"Add Other Document",children:(0,w.jsx)(s.A,{"aria-label":"delete",size:"large",sx:{background:j.A[800],":hover":{background:j.A[900]}},children:(0,w.jsx)(b.A,{sx:{color:"white"}})})})}),(0,w.jsx)(c.A,{onClick:()=>{const i=encodeURIComponent(JSON.stringify({...S,basicDocuments:JSON.stringify(l)}));e(`/${y.DEPARTMENT}/dashboard?Mkr44Rt2iuy13R=${i}`)},sx:{borderRadius:0,height:"40px"},variant:"contained",color:"success",children:"SAVE BASIC DOCUMENTS"})]})})]})}}}]);
//# sourceMappingURL=389.193aca78.chunk.js.map