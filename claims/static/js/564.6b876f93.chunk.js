"use strict";(self.webpackChunkupward_cliam=self.webpackChunkupward_cliam||[]).push([[564],{141:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(9662),a=n(579);const l=(0,r.A)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},3438:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(9662),a=n(579);const l=(0,r.A)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},4543:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(5043),a=n(7941),l=n(222),i=n(1178),u=n(4619),o=n(9484),d=n(3587),c=n(324),s=n(5550),p=n(3086),v=n(1906),h=n(141),y=n(3438),m=n(64),x=n.n(m),f=n(247),w=n(579);const b=[{key:"refNo",label:"REF#",width:100},{key:"check_from",label:"CHECK FROM",width:100},{key:"client_name",label:"CLIENT'S NAME",width:250},{key:"type_claim",label:"TYPE OF CLAIM",width:150},{key:"amount_claim",label:"AMOUNT OF CLAIM",width:200},{key:"date_claim",label:"DATE OF CLAIM",width:130},{key:"payment",label:"PAYMENT ",width:100},{key:"amount_imbursement",label:"AMOUNT OF IMBURSEMENT",width:170},{key:"date_release",label:"DATE RELEASE OF IMBURSEMENT",width:250},{key:"payee",label:"PAYEE",width:250},{key:"date_return_upward",label:"DATE OF RETURN OF IMBURSEMENT TO UPWARD",width:300},{key:"date_release_sub",label:"",hide:!0},{key:"date_claim_sub",label:"",hide:!0},{key:"date_return_upward_sub",label:"",hide:!0}];const g=(0,r.forwardRef)(((e,t)=>{let{}=e;const n=(0,r.useRef)(null),[m,g]=(0,r.useState)(""),{myAxios:k,user:S}=(0,r.useContext)(d.R),E=(0,r.useRef)(null),A=(0,r.useRef)(null),R=(0,r.useRef)(null),C=(0,r.useRef)(null),D=(0,r.useRef)(null),_=(0,r.useRef)(null),M=(0,r.useRef)(null),j=(0,r.useRef)(null),N=(0,r.useRef)(null),z=(0,r.useRef)(null),B=(0,r.useRef)(null),T=(0,r.useRef)(null),{isPending:F,mutate:K}=(0,c.n)({mutationKey:["get-imbersement-id"],mutationFn:async e=>await k.post("/get-imbersement-id",e,{headers:{Authorization:`Bearer ${null===S||void 0===S?void 0:S.accessToken}`}}),onSuccess:e=>{const t=e;console.log(t),(0,a.u)(100).then((()=>{A.current&&(A.current.value=t.data.refNo)}))}}),{isPending:I,mutate:P}=(0,c.n)({mutationKey:["search-imbersement"],mutationFn:async e=>await k.post("/search-imbersement",e,{headers:{Authorization:`Bearer ${null===S||void 0===S?void 0:S.accessToken}`}}),onSuccess:e=>{const t=e;(0,a.u)(100).then((()=>{n.current.setDataFormated(t.data.data)}))}}),O=(0,r.useRef)(P),U=(0,r.useRef)(K),{isPending:W,mutate:G}=(0,c.n)({mutationKey:["add-imbersement"],mutationFn:async e=>await k.post("/add-imbersement",e,{headers:{Authorization:`Bearer ${null===S||void 0===S?void 0:S.accessToken}`}}),onSuccess:e=>{const t=e;return t.data.success?((0,a.u)(100).then((()=>{n.current.setDataFormated(t.data.data)})),q(),x().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):x().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),{isPending:L,mutate:V}=(0,c.n)({mutationKey:["update-imbersement"],mutationFn:async e=>await k.post("/update-imbersement",e,{headers:{Authorization:`Bearer ${null===S||void 0===S?void 0:S.accessToken}`}}),onSuccess:e=>{const t=e;return t.data.success?((0,a.u)(100).then((()=>{n.current.setDataFormated(t.data.data)})),q(),x().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):x().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),{isPending:H,mutate:Y}=(0,c.n)({mutationKey:["delete-imbersement"],mutationFn:async e=>await k.post("/delete-imbersement",e,{headers:{Authorization:`Bearer ${null===S||void 0===S?void 0:S.accessToken}`}}),onSuccess:e=>{const t=e;return t.data.success?((0,a.u)(100).then((()=>{n.current.setDataFormated(t.data.data)})),q(),x().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):x().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}});(0,r.useEffect)((()=>{U.current({}),O.current({search:""})}),[]),(0,r.useEffect)((()=>{const e=()=>{window.history.pushState(null,"",window.location.href)};return e(),window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}),[]);const $=()=>{R.current&&(R.current.value=""),C.current&&(C.current.value=""),D.current&&(D.current.value=(0,p.GP)(new Date,"yyyy-MM-dd")),_.current&&(_.current.value=""),M.current&&(M.current.value=""),j.current&&(j.current.value=(0,p.GP)(new Date,"yyyy-MM-dd")),N.current&&(N.current.value=(0,p.GP)(new Date,"yyyy-MM-dd")),z.current&&(z.current.value=""),B.current&&(B.current.value=""),T.current&&(T.current.value=""),U.current({})},Z=(0,r.useRef)((e=>{R.current&&(R.current.disabled=e),C.current&&(C.current.disabled=e),D.current&&(D.current.disabled=e),_.current&&(_.current.disabled=e),M.current&&(M.current.disabled=e),j.current&&(j.current.disabled=e),N.current&&(N.current.disabled=e),z.current&&(z.current.disabled=e),B.current&&(B.current.disabled=e),T.current&&(T.current.disabled=e)})),q=()=>{var e;$(),U.current({}),n.current.resetCheckBox(),null===(e=n.current)||void 0===e||e.setSelectedRow(null),g("")};return(0,r.useEffect)((()=>{""===m?Z.current(!0):Z.current(!1)}),[m]),(0,w.jsxs)(w.Fragment,{children:[(W||L||H||I||F)&&(0,w.jsx)(i.R,{}),(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"10px",padding:"10px",flex:1,width:"100wv",height:"100vh"},children:[(0,w.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,w.jsx)(u.ks,{label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:e=>{if("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),O.current({search:e.currentTarget.value})),"ArrowDown"===e.key){e.preventDefault();document.querySelector(".grid-container").focus()}},style:{width:"500px"}},icon:(0,w.jsx)(o.A,{sx:{fontSize:"18px"}}),onIconClick:e=>{e.preventDefault(),E.current&&O.current({search:E.current.value})},inputRef:E}),(0,w.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[""===m&&(0,w.jsx)(v.A,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,w.jsx)(h.A,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:()=>{g("add")},color:"primary",children:"New"}),(0,w.jsx)(v.A,{sx:{height:"22px",fontSize:"11px"},disabled:""===m,onClick:()=>{"update"===m?(0,f.Z)({isUpdate:!0,cb:e=>{var t,n,r,a,l,i,u,o,d,c,s;V({refNo:null===(t=A.current)||void 0===t?void 0:t.value,check_from:null===(n=R.current)||void 0===n?void 0:n.value,client_name:null===(r=M.current)||void 0===r?void 0:r.value,type_claim:null===(a=C.current)||void 0===a?void 0:a.value,amount_claim:null===(l=_.current)||void 0===l?void 0:l.value,date_claim:null===(i=D.current)||void 0===i?void 0:i.value,payment:null===(u=B.current)||void 0===u?void 0:u.value,amount_imbursement:null===(o=z.current)||void 0===o?void 0:o.value,date_release:null===(d=j.current)||void 0===d?void 0:d.value,payee:null===(c=T.current)||void 0===c?void 0:c.value,date_return_upward:null===(s=N.current)||void 0===s?void 0:s.value,userCodeConfirmation:e})}}):(0,f.x)({isConfirm:()=>{var e,t,n,r,a,l,i,u,o,d,c;G({refNo:null===(e=A.current)||void 0===e?void 0:e.value,check_from:null===(t=R.current)||void 0===t?void 0:t.value,client_name:null===(n=M.current)||void 0===n?void 0:n.value,type_claim:null===(r=C.current)||void 0===r?void 0:r.value,amount_claim:null===(a=_.current)||void 0===a?void 0:a.value,date_claim:null===(l=D.current)||void 0===l?void 0:l.value,payment:null===(i=B.current)||void 0===i?void 0:i.value,amount_imbursement:null===(u=z.current)||void 0===u?void 0:u.value,date_release:null===(o=j.current)||void 0===o?void 0:o.value,payee:null===(d=T.current)||void 0===d?void 0:d.value,date_return_upward:null===(c=N.current)||void 0===c?void 0:c.value})}})},color:"success",variant:"contained",children:"Save"}),"update"===m&&(0,w.jsx)(v.A,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,w.jsx)(h.A,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:()=>{(0,f.Z)({isUpdate:!1,cb:e=>{var t;Y({userCodeConfirmation:e,refNo:null===(t=A.current)||void 0===t?void 0:t.value})}})},color:"error",children:"Delete"}),""!==m&&(0,w.jsx)(v.A,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,w.jsx)(y.A,{sx:{width:15,height:15}}),color:"warning",onClick:()=>{x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((e=>{e.isConfirmed&&q()}))},disabled:""===m,children:"Cancel"})]})]}),(0,w.jsxs)("fieldset",{style:{display:"flex",gap:"10px",border:"1px solid #cbd5e1",borderRadius:"5px",width:"100%",position:"relative",boxSizing:"border-box",columnGap:"100px"},children:[(0,w.jsxs)("div",{style:{rowGap:"5px"},children:[(0,w.jsx)(u.ks,{containerStyle:{width:"300px",marginBottom:"5px"},label:{title:"Ref  No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{readOnly:!0,type:"text",style:{width:"calc(100% - 130px)",height:"22px !important"},onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(U.current({}),null===(t=R.current)||void 0===t||t.focus())}},inputRef:A,icon:(0,w.jsx)(s.A,{sx:{fontSize:"18px"}}),onIconClick:e=>{U.current({})}}),(0,w.jsx)(u.pp,{containerStyle:{width:"300px",marginBottom:"5px"},label:{title:"Check From : ",style:{fontSize:"12px",fontWeight:"bold",width:"125px"}},selectRef:R,select:{disabled:!0,style:{width:"calc(100% - 125px)",height:"22px"},defaultValue:"UCSMI",onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=C.current)||void 0===t||t.focus())}},datasource:[{key:"UCSMI"},{key:"UMIS"}],values:"key",display:"key"}),(0,w.jsx)(u.pp,{containerStyle:{width:"300px",marginBottom:"5px"},label:{title:"Type of Claim : ",style:{fontSize:"12px",fontWeight:"bold",width:"125px"}},selectRef:C,select:{disabled:!0,style:{width:"calc(100% - 125px)",height:"22px"},defaultValue:"UCSMI",onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=_.current)||void 0===t||t.focus())}},datasource:[{key:"ACT OF NATURE"},{key:"CTPL CLAIM "},{key:"DEATH CLAIM "},{key:"GPA"},{key:"OWN DAMAGE"}],values:"key",display:"key"}),(0,w.jsx)(u.ks,{containerStyle:{width:"300px",marginBottom:"5px"},label:{title:"Date of Claim : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{disabled:!0,type:"date",style:{width:"calc(100% - 130px)"},defaultValue:(0,p.GP)(new Date,"yyyy-MM-dd"),onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=_.current)||void 0===t||t.focus())}},inputRef:D}),(0,w.jsx)(u.iO,{containerStyle:{width:"300px",marginBottom:"5px"},label:{title:"Amount of Claim : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{disabled:!0,type:"text",defaultValue:"0.00",style:{width:"calc(100% - 130px)"},onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=M.current)||void 0===t||t.focus())}},inputRef:_}),(0,w.jsx)(u.No,{containerStyle:{width:"500px",marginBottom:"5px"},label:{title:"Client's Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"128px"}},textarea:{disabled:!0,style:{width:"calc(100% - 128px)"},onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=j.current)||void 0===t||t.focus())}},_inputRef:M})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(u.ks,{containerStyle:{width:"350px",marginBottom:"5px"},label:{title:"Date of Release  : ",style:{fontSize:"12px",fontWeight:"bold",width:"180px"}},input:{disabled:!0,type:"date",style:{width:"calc(100% - 180px)"},defaultValue:(0,p.GP)(new Date,"yyyy-MM-dd"),onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=N.current)||void 0===t||t.focus())}},inputRef:j}),(0,w.jsx)(u.ks,{containerStyle:{width:"350px",marginBottom:"5px"},label:{title:"Date of Return to UPWARD: ",style:{fontSize:"12px",fontWeight:"bold",width:"180px"}},input:{disabled:!0,type:"date",style:{width:"calc(100% - 180px)"},defaultValue:(0,p.GP)(new Date,"yyyy-MM-dd"),onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=z.current)||void 0===t||t.focus())}},inputRef:N}),(0,w.jsx)(u.iO,{containerStyle:{width:"350px",marginBottom:"5px"},label:{title:"Amount of Imbursement : ",style:{fontSize:"12px",fontWeight:"bold",width:"180px"}},input:{disabled:!0,type:"text",defaultValue:"0.00",style:{width:"calc(100% - 180px)"},onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=B.current)||void 0===t||t.focus())}},inputRef:z}),(0,w.jsx)(u.pp,{containerStyle:{width:"350px",marginBottom:"5px"},label:{title:"Payment : ",style:{fontSize:"12px",fontWeight:"bold",width:"175px"}},selectRef:B,select:{disabled:!0,style:{width:"calc(100% - 175px)",height:"22px"},defaultValue:"CHECK",onKeyDown:e=>{var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=T.current)||void 0===t||t.focus())}},datasource:[{key:"CHECK"},{key:"CASH"}],values:"key",display:"key"}),(0,w.jsx)(u.No,{containerStyle:{width:"500px",marginBottom:"5px"},label:{title:"Payee : ",style:{fontSize:"12px",fontWeight:"bold",width:"180px"}},textarea:{disabled:!0,style:{width:"calc(100% - 180px)"},onKeyDown:e=>{"NumpadEnter"===e.code||e.code}},_inputRef:T})]})]}),(0,w.jsx)(l.z4,{containerStyle:{flex:1,height:"auto"},ref:n,columns:b,height:"280px",getSelectedItem:e=>{e?(g("update"),(0,a.u)(100).then((()=>{A.current&&(A.current.value=e[0]),R.current&&(R.current.value=e[1]),M.current&&(M.current.value=e[2]),C.current&&(C.current.value=e[3]),_.current&&(_.current.value=e[4]),B.current&&(B.current.value=e[6]),z.current&&(z.current.value=e[7]),T.current&&(T.current.value=e[9]),j.current&&(j.current.value=e[11]),D.current&&(D.current.value=e[12]),N.current&&(N.current.value=e[13])}))):(g(""),$())},onKeyDown:(e,t,n)=>{if("Delete"===n.code||"Backspace"===n.code){if(window.confirm("Are you sure you want to delete?"))return}}})]})]})}))},5550:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(9662),a=n(579);const l=(0,r.A)((0,a.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")},9484:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(9662),a=n(579);const l=(0,r.A)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=564.6b876f93.chunk.js.map